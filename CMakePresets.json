{
  "version": 3,
  "cmakeMinimumRequired": { "major": 3, "minor": 21 },
  "configurePresets": [
    { "name": "win32-debug", "displayName": "Windows x86 Debug", "generator": "Visual Studio 17 2022", "architecture": "Win32", "binaryDir": "${sourceDir}/build/win32-debug", "cacheVariables": { "CMAKE_BUILD_TYPE": "Debug" } },
    { "name": "win32-release", "displayName": "Windows x86 Release", "generator": "Visual Studio 17 2022", "architecture": "Win32", "binaryDir": "${sourceDir}/build/win32-release", "cacheVariables": { "CMAKE_BUILD_TYPE": "Release" } },
    { "name": "x64-debug", "displayName": "Windows x64 Debug", "generator": "Visual Studio 17 2022", "architecture": "x64", "binaryDir": "${sourceDir}/build/x64-debug", "cacheVariables": { "CMAKE_BUILD_TYPE": "Debug" } },
    { "name": "x64-release", "displayName": "Windows x64 Release", "generator": "Visual Studio 17 2022", "architecture": "x64", "binaryDir": "${sourceDir}/build/x64-release", "cacheVariables": { "CMAKE_BUILD_TYPE": "Release", "ENABLE_AVX2": "ON", "ENABLE_MSVC_FAST_MATH": "ON", "ENABLE_FAST_MATH": "ON" } },
    { "name": "x64-release-legacy", "displayName": "Windows x64 Release (Legacy ISA, precise math)", "generator": "Visual Studio 17 2022", "architecture": "x64", "binaryDir": "${sourceDir}/build/x64-release-legacy", "cacheVariables": { "CMAKE_BUILD_TYPE": "Release", "ENABLE_AVX2": "OFF", "ENABLE_MSVC_FAST_MATH": "OFF", "ENABLE_FAST_MATH": "OFF" } },
    { "name": "x64-pgo-msvc-gen", "displayName": "Windows x64 PGO (MSVC) - Generate", "generator": "Visual Studio 17 2022", "architecture": "x64", "binaryDir": "${sourceDir}/build/x64-pgo-msvc-gen", "cacheVariables": { "CMAKE_BUILD_TYPE": "Release", "CMAKE_C_FLAGS_RELEASE": "/GL", "CMAKE_CXX_FLAGS_RELEASE": "/GL", "CMAKE_EXE_LINKER_FLAGS_RELEASE": "/LTCG /GENPROFILE PGD=${sourceDir}/pgo/msvc/Rasta.pgd" } },
    { "name": "x64-pgo-msvc-use", "displayName": "Windows x64 PGO (MSVC) - Use", "generator": "Visual Studio 17 2022", "architecture": "x64", "binaryDir": "${sourceDir}/build/x64-pgo-msvc-use", "cacheVariables": { "CMAKE_BUILD_TYPE": "Release", "CMAKE_C_FLAGS_RELEASE": "/GL", "CMAKE_CXX_FLAGS_RELEASE": "/GL", "CMAKE_EXE_LINKER_FLAGS_RELEASE": "/LTCG /USEPROFILE PGD=${sourceDir}/pgo/msvc/Rasta.pgd" } },
    { "name": "ninja-debug", "displayName": "Ninja Debug", "generator": "Ninja", "binaryDir": "${sourceDir}/build/ninja-debug", "cacheVariables": { "CMAKE_BUILD_TYPE": "Debug" } },
    { "name": "ninja-release", "displayName": "Ninja Release", "generator": "Ninja", "binaryDir": "${sourceDir}/build/ninja-release", "cacheVariables": { "CMAKE_BUILD_TYPE": "Release", "ENABLE_AVX2": "ON", "ENABLE_MSVC_FAST_MATH": "ON", "ENABLE_FAST_MATH": "ON" } },
    { "name": "ninja-release-legacy", "displayName": "Ninja Release (Legacy ISA, precise math)", "generator": "Ninja", "binaryDir": "${sourceDir}/build/ninja-release-legacy", "cacheVariables": { "CMAKE_BUILD_TYPE": "Release", "ENABLE_AVX2": "OFF", "ENABLE_MSVC_FAST_MATH": "OFF", "ENABLE_FAST_MATH": "OFF" } },
    { "name": "ninja-pgo-icx-gen", "displayName": "Ninja PGO (Intel icx) - Generate", "generator": "Ninja", "binaryDir": "${sourceDir}/build/ninja-pgo-icx-gen", "cacheVariables": { "CMAKE_C_COMPILER": "icx", "CMAKE_CXX_COMPILER": "icx", "CMAKE_BUILD_TYPE": "Release", "CMAKE_C_FLAGS_RELEASE": "-fprofile-instr-generate", "CMAKE_CXX_FLAGS_RELEASE": "-fprofile-instr-generate" } },
    { "name": "ninja-pgo-icx-use", "displayName": "Ninja PGO (Intel icx) - Use", "generator": "Ninja", "binaryDir": "${sourceDir}/build/ninja-pgo-icx-use", "cacheVariables": { "CMAKE_C_COMPILER": "icx", "CMAKE_CXX_COMPILER": "icx", "CMAKE_BUILD_TYPE": "Release", "CMAKE_C_FLAGS_RELEASE": "-fprofile-instr-use=${sourceDir}/pgo/icx/merged.profdata -flto -xHost", "CMAKE_CXX_FLAGS_RELEASE": "-fprofile-instr-use=${sourceDir}/pgo/icx/merged.profdata -flto -xHost", "CMAKE_EXE_LINKER_FLAGS_RELEASE": "-flto" } },
    { "name": "x64-pgo-icx-gen", "displayName": "Windows x64 PGO (Intel icx) - Generate", "generator": "Visual Studio 17 2022", "architecture": "x64", "binaryDir": "${sourceDir}/build/x64-pgo-icx-gen", "cacheVariables": { "CMAKE_C_COMPILER": "icx", "CMAKE_CXX_COMPILER": "icx", "CMAKE_BUILD_TYPE": "Release", "CMAKE_C_FLAGS_RELEASE": "-fprofile-instr-generate", "CMAKE_CXX_FLAGS_RELEASE": "-fprofile-instr-generate" } },
    { "name": "x64-pgo-icx-use", "displayName": "Windows x64 PGO (Intel icx) - Use", "generator": "Visual Studio 17 2022", "architecture": "x64", "binaryDir": "${sourceDir}/build/x64-pgo-icx-use", "cacheVariables": { "CMAKE_C_COMPILER": "icx", "CMAKE_CXX_COMPILER": "icx", "CMAKE_BUILD_TYPE": "Release", "CMAKE_C_FLAGS_RELEASE": "-fprofile-instr-use=${sourceDir}/pgo/icx/merged.profdata -Qipo -QxHost", "CMAKE_CXX_FLAGS_RELEASE": "-fprofile-instr-use=${sourceDir}/pgo/icx/merged.profdata -Qipo -QxHost", "CMAKE_EXE_LINKER_FLAGS_RELEASE": "-Qipo" } },

    { "name": "linux-gcc", "displayName": "Linux GCC (Ninja)", "generator": "Ninja", "binaryDir": "${sourceDir}/build/linux-gcc", "cacheVariables": { "CMAKE_C_COMPILER": "gcc", "CMAKE_CXX_COMPILER": "g++", "ENABLE_FAST_MATH": "ON", "ENABLE_AVX2": "ON" } },
    { "name": "linux-clang", "displayName": "Linux Clang (Ninja)", "generator": "Ninja", "binaryDir": "${sourceDir}/build/linux-clang", "cacheVariables": { "CMAKE_C_COMPILER": "clang", "CMAKE_CXX_COMPILER": "clang++", "ENABLE_FAST_MATH": "ON", "ENABLE_AVX2": "ON" } },
    { "name": "linux-gcc-make", "displayName": "Linux GCC (Makefiles)", "generator": "Unix Makefiles", "binaryDir": "${sourceDir}/build/linux-gcc-make", "cacheVariables": { "CMAKE_C_COMPILER": "gcc", "CMAKE_CXX_COMPILER": "g++", "ENABLE_FAST_MATH": "ON", "ENABLE_AVX2": "ON" } },
    { "name": "linux-clang-make", "displayName": "Linux Clang (Makefiles)", "generator": "Unix Makefiles", "binaryDir": "${sourceDir}/build/linux-clang-make", "cacheVariables": { "CMAKE_C_COMPILER": "clang", "CMAKE_CXX_COMPILER": "clang++", "ENABLE_FAST_MATH": "ON", "ENABLE_AVX2": "ON" } },

    { "name": "macos-clang", "displayName": "macOS Clang (Ninja)", "generator": "Ninja", "binaryDir": "${sourceDir}/build/macos-clang", "cacheVariables": { "CMAKE_C_COMPILER": "clang", "CMAKE_CXX_COMPILER": "clang++", "ENABLE_FAST_MATH": "ON", "ENABLE_AVX2": "ON" } },
    { "name": "macos-clang-make", "displayName": "macOS Clang (Makefiles)", "generator": "Unix Makefiles", "binaryDir": "${sourceDir}/build/macos-clang-make", "cacheVariables": { "CMAKE_C_COMPILER": "clang", "CMAKE_CXX_COMPILER": "clang++", "ENABLE_FAST_MATH": "ON", "ENABLE_AVX2": "ON" } },

    { "name": "linux-gcc-pgo-gen", "displayName": "Linux GCC PGO - Generate", "generator": "Ninja", "binaryDir": "${sourceDir}/build/linux-gcc-pgo-gen", "cacheVariables": { "CMAKE_C_COMPILER": "gcc", "CMAKE_CXX_COMPILER": "g++", "CMAKE_BUILD_TYPE": "Release", "CMAKE_C_FLAGS_RELEASE": "-fprofile-generate", "CMAKE_CXX_FLAGS_RELEASE": "-fprofile-generate", "ENABLE_FAST_MATH": "ON", "ENABLE_AVX2": "ON" } },
    { "name": "linux-gcc-pgo-use", "displayName": "Linux GCC PGO - Use", "generator": "Ninja", "binaryDir": "${sourceDir}/build/linux-gcc-pgo-use", "cacheVariables": { "CMAKE_C_COMPILER": "gcc", "CMAKE_CXX_COMPILER": "g++", "CMAKE_BUILD_TYPE": "Release", "CMAKE_C_FLAGS_RELEASE": "-fprofile-use", "CMAKE_CXX_FLAGS_RELEASE": "-fprofile-use", "ENABLE_FAST_MATH": "ON", "ENABLE_AVX2": "ON" } },
    { "name": "linux-clang-pgo-gen", "displayName": "Linux Clang PGO - Generate", "generator": "Ninja", "binaryDir": "${sourceDir}/build/linux-clang-pgo-gen", "cacheVariables": { "CMAKE_C_COMPILER": "clang", "CMAKE_CXX_COMPILER": "clang++", "CMAKE_BUILD_TYPE": "Release", "CMAKE_C_FLAGS_RELEASE": "-fprofile-instr-generate", "CMAKE_CXX_FLAGS_RELEASE": "-fprofile-instr-generate", "ENABLE_FAST_MATH": "ON", "ENABLE_AVX2": "ON" } },
    { "name": "linux-clang-pgo-use", "displayName": "Linux Clang PGO - Use", "generator": "Ninja", "binaryDir": "${sourceDir}/build/linux-clang-pgo-use", "cacheVariables": { "CMAKE_C_COMPILER": "clang", "CMAKE_CXX_COMPILER": "clang++", "CMAKE_BUILD_TYPE": "Release", "CMAKE_C_FLAGS_RELEASE": "-fprofile-instr-use=${sourceDir}/pgo/clang/merged.profdata", "CMAKE_CXX_FLAGS_RELEASE": "-fprofile-instr-use=${sourceDir}/pgo/clang/merged.profdata", "ENABLE_FAST_MATH": "ON", "ENABLE_AVX2": "ON" } },
    { "name": "linux-icx-pgo-gen", "displayName": "Linux Intel ICX PGO - Generate", "generator": "Ninja", "binaryDir": "${sourceDir}/build/linux-icx-pgo-gen", "cacheVariables": { "CMAKE_C_COMPILER": "icx", "CMAKE_CXX_COMPILER": "icx", "CMAKE_BUILD_TYPE": "Release", "CMAKE_C_FLAGS_RELEASE": "-fprofile-instr-generate", "CMAKE_CXX_FLAGS_RELEASE": "-fprofile-instr-generate", "CMAKE_EXE_LINKER_FLAGS_RELEASE": "-lstdc++", "ENABLE_FAST_MATH": "ON", "ENABLE_AVX2": "ON" } },
    { "name": "linux-icx-pgo-use", "displayName": "Linux Intel ICX PGO - Use", "generator": "Ninja", "binaryDir": "${sourceDir}/build/linux-icx-pgo-use", "cacheVariables": { "CMAKE_C_COMPILER": "icx", "CMAKE_CXX_COMPILER": "icx", "CMAKE_BUILD_TYPE": "Release", "CMAKE_C_FLAGS_RELEASE": "-fprofile-instr-use=${sourceDir}/pgo/icx/merged.profdata -flto -march=native", "CMAKE_CXX_FLAGS_RELEASE": "-fprofile-instr-use=${sourceDir}/pgo/icx/merged.profdata -flto -march=native", "CMAKE_EXE_LINKER_FLAGS_RELEASE": "-lstdc++ -flto", "ENABLE_FAST_MATH": "ON", "ENABLE_AVX2": "ON" } },

    { "name": "linux-gcc-static", "displayName": "Linux GCC Static", "generator": "Ninja", "binaryDir": "${sourceDir}/build/linux-gcc-static", "cacheVariables": { "CMAKE_C_COMPILER": "gcc", "CMAKE_CXX_COMPILER": "g++", "CMAKE_BUILD_TYPE": "Release", "BUILD_STATIC": "ON", "ENABLE_FAST_MATH": "ON", "ENABLE_AVX2": "ON" } },
    { "name": "linux-icx-static", "displayName": "Linux Intel ICX Static", "generator": "Ninja", "binaryDir": "${sourceDir}/build/linux-icx-static", "cacheVariables": { "CMAKE_C_COMPILER": "icx", "CMAKE_CXX_COMPILER": "icx", "CMAKE_BUILD_TYPE": "Release", "BUILD_STATIC": "ON", "CMAKE_EXE_LINKER_FLAGS_RELEASE": "-lstdc++", "ENABLE_FAST_MATH": "ON", "ENABLE_AVX2": "ON" } },
    { "name": "linux-icx-pgo-static", "displayName": "Linux Intel ICX PGO Static", "generator": "Ninja", "binaryDir": "${sourceDir}/build/linux-icx-pgo-static", "cacheVariables": { "CMAKE_C_COMPILER": "icx", "CMAKE_CXX_COMPILER": "icx", "CMAKE_BUILD_TYPE": "Release", "BUILD_STATIC": "ON", "CMAKE_C_FLAGS_RELEASE": "-fprofile-instr-use=${sourceDir}/pgo/icx/merged.profdata -flto -march=native", "CMAKE_CXX_FLAGS_RELEASE": "-fprofile-instr-use=${sourceDir}/pgo/icx/merged.profdata -flto -march=native", "CMAKE_EXE_LINKER_FLAGS_RELEASE": "-lstdc++ -flto", "ENABLE_FAST_MATH": "ON", "ENABLE_AVX2": "ON" } }
  ],
  "buildPresets": [
    { "name": "win32-debug", "configurePreset": "win32-debug", "configuration": "Debug" },
    { "name": "win32-release", "configurePreset": "win32-release", "configuration": "Release" },
    { "name": "x64-debug", "configurePreset": "x64-debug", "configuration": "Debug" },
    { "name": "x64-release", "configurePreset": "x64-release", "configuration": "Release" },
    { "name": "x64-pgo-msvc-gen", "configurePreset": "x64-pgo-msvc-gen", "configuration": "Release" },
    { "name": "x64-pgo-msvc-use", "configurePreset": "x64-pgo-msvc-use", "configuration": "Release" },
    { "name": "ninja-debug", "configurePreset": "ninja-debug", "configuration": "Debug" },
    { "name": "ninja-release", "configurePreset": "ninja-release", "configuration": "Release" },
    { "name": "ninja-pgo-icx-gen", "configurePreset": "ninja-pgo-icx-gen", "configuration": "Release" },
    { "name": "ninja-pgo-icx-use", "configurePreset": "ninja-pgo-icx-use", "configuration": "Release" },
    { "name": "x64-pgo-icx-gen", "configurePreset": "x64-pgo-icx-gen", "configuration": "Release" },
    { "name": "x64-pgo-icx-use", "configurePreset": "x64-pgo-icx-use", "configuration": "Release" },

    { "name": "linux-gcc-debug", "configurePreset": "linux-gcc", "configuration": "Debug" },
    { "name": "linux-gcc-release", "configurePreset": "linux-gcc", "configuration": "Release" },
    { "name": "linux-clang-debug", "configurePreset": "linux-clang", "configuration": "Debug" },
    { "name": "linux-clang-release", "configurePreset": "linux-clang", "configuration": "Release" },
    { "name": "linux-gcc-make-debug", "configurePreset": "linux-gcc-make", "configuration": "Debug" },
    { "name": "linux-gcc-make-release", "configurePreset": "linux-gcc-make", "configuration": "Release" },
    { "name": "linux-clang-make-debug", "configurePreset": "linux-clang-make", "configuration": "Debug" },
    { "name": "linux-clang-make-release", "configurePreset": "linux-clang-make", "configuration": "Release" },

    { "name": "macos-clang-debug", "configurePreset": "macos-clang", "configuration": "Debug" },
    { "name": "macos-clang-release", "configurePreset": "macos-clang", "configuration": "Release" },
    { "name": "macos-clang-make-debug", "configurePreset": "macos-clang-make", "configuration": "Debug" },
    { "name": "macos-clang-make-release", "configurePreset": "macos-clang-make", "configuration": "Release" },

    { "name": "linux-gcc-pgo-gen", "configurePreset": "linux-gcc-pgo-gen", "configuration": "Release" },
    { "name": "linux-gcc-pgo-use", "configurePreset": "linux-gcc-pgo-use", "configuration": "Release" },
    { "name": "linux-clang-pgo-gen", "configurePreset": "linux-clang-pgo-gen", "configuration": "Release" },
    { "name": "linux-clang-pgo-use", "configurePreset": "linux-clang-pgo-use", "configuration": "Release" },
    { "name": "linux-icx-pgo-gen", "configurePreset": "linux-icx-pgo-gen", "configuration": "Release" },
    { "name": "linux-icx-pgo-use", "configurePreset": "linux-icx-pgo-use", "configuration": "Release" },
    { "name": "linux-gcc-static", "configurePreset": "linux-gcc-static", "configuration": "Release" },
    { "name": "linux-icx-static", "configurePreset": "linux-icx-static", "configuration": "Release" },
    { "name": "linux-icx-pgo-static", "configurePreset": "linux-icx-pgo-static", "configuration": "Release" }
  ]
}


